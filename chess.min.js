/*! chess 28-07-2013 */
!function(){"use strict";var a={},b=Array.prototype,c=Object.prototype;Function.prototype;var d=(b.push,b.slice,b.concat,c.toString,c.hasOwnProperty),e=b.forEach,f=b.filter,g={};g.each=function(b,c,d){if(null!=b)if(e&&b.forEach===e)b.forEach(c,d);else if(b.length===+b.length){for(var f=0,h=b.length;h>f;f++)if(c.call(d,b[f],f,b)===a)return}else for(var i in b)if(g.has(b,i)&&c.call(d,b[i],i,b)===a)return},g.filter=function(a,b,c){var d=[];return null==a?d:f&&a.filter===f?a.filter(b,c):(g.each(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},g.isFunction=function(a){return"function"==typeof a},g.has=function(a,b){return d.call(a,b)};var h={};if("undefined"!=typeof exports)"undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.jsMessage=h;else{if(void 0!==this.jsMessage)throw"jsMessage is allready defined";this.jsMessage=h}h.mixinPubSub=function(a){a=a||{};var b={},c=[];return a.subscribe=function(a,d){a?(b[a]=b[a]||[],b[a].push(d)):c.push(d)},a.unsubscribe=function(a,d){var e=function(c){return g.filter(b[c],function(b){return b!==a})};if(d){if(!b[d])throw"topic not found";b[d]=e(d)}else g.each(b,function(a,c){b[c]=e(c)}),c=g.filter(c,function(b){return b!==a})},a.publish=function(a,d){a?g.each(b[a],function(a){a(d)}):g.each(b,function(a){g.each(a,function(a){a&&a(d)})}),g.each(c,function(a){a(d)})},a.autoPublish=function(a,b){var c,d=this;return function(e){return void 0===e?c:(c=b?b(e):e,d.publish(a,c),void 0)}},a},h.mixinEvents=function(a,b){var c={},d=b||{};return g.each(a,function(b,e){g.isFunction(b)&&(a[e]=function(){var f,h=b.apply(a,arguments);return c[e]&&(d[e]&&(f=d[e].apply(a,[h])),g.each(c[e],function(a){a(f)})),h})}),a.on=function(a,b){c[a]=c[a]||[],c[a].push(b)},a.off=function(a,b){c[a]=b?g.filter(c[a],function(a){return a!==b}):void 0},a}}.call(this),function(){"use strict";var a=!0,b={message:!0,line:!0,stack:!1},c={message:"",line:" - ",stack:"Stack Trace : "},d=function(a){var b;return"string"==typeof a?(b=a.split("\n")[2].split("/"),b=b[b.length-1],")"===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1)),b):void 0},e=function(a){var b,d,e="\n";for(b in a)a.hasOwnProperty(b)&&(d=void 0===c[b]?b+": ":c[b],e+=d+a[b]+"\n");return e},f=function(a,c){var d,e,f={};for(d in a)a.hasOwnProperty(d)&&(e=void 0===c[d]?b[d]:c[d],e&&(f[d]=a[d]));return f},g=function(b,c){c=c||{};var g={};return a||c.force?(g.message=b,g.stack=(new Error).stack,setTimeout(function(){g.line=d(g.stack),console.log(e(f(g,c)))},0),g):void 0};if("undefined"!=typeof exports)"undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports.log=g;else{if(void 0!==this.log)throw"debug is allready defined";this.log=g}}.call(this),function(){"use strict";var a="abcdefgh".split(""),b=function(a){if("string"!=typeof a)return!1;var b=a.split("-");return 2!==b.length?!1:c(b[0])===!0&&c(b[1])===!0},c=function(a){return"string"!=typeof a?!1:-1!==a.search(/^[a-h][1-8]$/)},d=function(a){return"string"!=typeof a?!1:-1!==a.search(/^[bw][KQRNBP]$/)},e=function(a){if("string"!=typeof a)return!1;var b=a.split("/");if(b.length<8)return!1;for(var c=0;8>c;c++)if(""===b[c]||b[c].length>8||-1!==b[c].search(/[^kqrbnpKQRNBP1-8]/))return!1;return!0},f=function(a){if("object"!=typeof a)return!1;for(var b in a)if(a.hasOwnProperty(b)===!0&&(c(b)!==!0||d(a[b])!==!0))return!1;return!0},g=function(a){return a.toLowerCase()===a?"b"+a.toUpperCase():"w"+a.toUpperCase()},h=function(a){var b=a.split("");return"w"===b[0]?b[1].toUpperCase():b[1].toLowerCase()},i=function(b){if(e(b)!==!0)return!1;for(var c=b.split("/"),d={},f=8,h=0;8>h;h++){for(var i=c[h].split(""),j=0,k=0;k<i.length;k++)if(-1!==i[k].search(/[1-8]/)){var l=parseInt(i[k],10);j+=l}else{var m=a[j]+f;d[m]=g(i[k]),j++}f--}return d},j=function(b){if(f(b)!==!0)return!1;for(var c="",d=8,e=0;8>e;e++){for(var g=0;8>g;g++){var i=a[g]+d;c+=b.hasOwnProperty(i)===!0?h(b[i]):"1"}7!==e&&(c+="/"),d--}return c=c.replace(/11111111/g,"8"),c=c.replace(/1111111/g,"7"),c=c.replace(/111111/g,"6"),c=c.replace(/11111/g,"5"),c=c.replace(/1111/g,"4"),c=c.replace(/111/g,"3"),c=c.replace(/11/g,"2")};window.ChessBoard=window.ChessBoard||function(d,g){g=g||{};var h,k,l,m,n,o,p,q,r,s,t="1.7.0",u="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",v=i(u),w={alpha:"alpha-d2270",black:"black-3c85d",board:"board-b72b1",chessboard:"chessboard-63f37",clearfix:"clearfix-7da63",highlight1:"highlight1-32417",highlight2:"highlight2-9c5d2",notation:"notation-322f9",numeric:"numeric-fc462",piece:"piece-417db",row:"row-5277c",sparePieces:"spare-pieces-7492f",sparePiecesBottom:"spare-pieces-bottom-ae20f",sparePiecesTop:"spare-pieces-top-4028b",square:"square-55d63",white:"white-1e1d7"},x={},y=!1,z=2,A="white",B={},C=!1,D={},E={},F=function(){return"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/x/g,function(){var a=0|16*Math.random();return a.toString(16)})},G=function(a){return JSON.parse(JSON.stringify(a))},H=function(a){var b=a.split(".");return{major:parseInt(b[0],10),minor:parseInt(b[1],10),patch:parseInt(b[2],10)}},I=function(a,b){a=H(a),b=H(b);var c=1e4*1e4*a.major+1e4*a.minor+a.patch,d=1e4*1e4*b.major+1e4*b.minor+b.patch;return c>=d},J=function(a,b,c){if(g.hasOwnProperty("showErrors")===!0&&g.showErrors!==!1){var d="ChessBoard Error "+a+": "+b;return"console"===g.showErrors&&"object"==typeof console&&"function"==typeof console.log?(console.log(d),arguments.length>=2&&console.log(c),void 0):"alert"===g.showErrors?(c&&(d+="\n\n"+JSON.stringify(c)),window.alert(d),void 0):("function"==typeof g.showErrors&&g.showErrors(a,b,c),void 0)}},K=function(){if("string"==typeof d){if(""===d)return window.alert("ChessBoard Error 1001: The first argument to ChessBoard() cannot be an empty string.\n\nExiting..."),!1;var a=document.getElementById(d);if(!a)return window.alert('ChessBoard Error 1002: Element with id "'+d+'" does not exist in the DOM.'+"\n\nExiting..."),!1;h=$(a)}else if(h=$(d),1!==h.length)return window.alert("ChessBoard Error 1003: The first argument to ChessBoard() must be an ID or a single DOM node.\n\nExiting..."),!1;return window.JSON&&"function"==typeof JSON.stringify&&"function"==typeof JSON.parse?$.fn&&$.fn.jquery&&I($.fn.jquery,t)===!0?!0:(window.alert("ChessBoard Error 1005: Unable to find a valid version of jQuery. Please include jQuery "+t+" or "+"higher on the page.\n\nExiting..."),!1):(window.alert("ChessBoard Error 1004: JSON does not exist. Please include a JSON polyfill.\n\nExiting..."),!1)},L=function(a){return"fast"===a||"slow"===a?!0:parseInt(a,10)+""!=a+""?!1:a>0},M=function(){return("string"==typeof g||f(g)===!0)&&(g={position:g}),"black"!==g.orientation&&(g.orientation="white"),A=g.orientation,g.showNotation!==!1&&(g.showNotation=!0),g.draggable!==!0&&(g.draggable=!1),"trash"!==g.dropOffBoard&&(g.dropOffBoard="snapback"),g.sparePieces!==!0&&(g.sparePieces=!1),g.sparePieces===!0&&(g.draggable=!0),(g.hasOwnProperty("pieceTheme")!==!0||"string"!=typeof g.pieceTheme&&"function"!=typeof g.pieceTheme)&&(g.pieceTheme="img/chesspieces/wikipedia/{piece}.png"),(g.hasOwnProperty("moveSpeed")!==!0||L(g.moveSpeed)!==!0)&&(g.moveSpeed=200),(g.hasOwnProperty("snapbackSpeed")!==!0||L(g.snapbackSpeed)!==!0)&&(g.snapbackSpeed=50),(g.hasOwnProperty("snapSpeed")!==!0||L(g.snapSpeed)!==!0)&&(g.snapSpeed=25),(g.hasOwnProperty("trashSpeed")!==!0||L(g.trashSpeed)!==!0)&&(g.trashSpeed=100),g.hasOwnProperty("position")===!0&&("start"===g.position?B=G(v):e(g.position)===!0?B=i(g.position):f(g.position)===!0?B=G(g.position):J(7263,"Invalid value passed to config.position.",g.position)),!0},N=function(){var a=parseInt(h.css("width"),10);if(!a||0>=a)return 0;for(var b=a-1;0!==b%8&&b>0;)b--;return b/8},O=function(){for(var b=0;b<a.length;b++)for(var c=1;8>=c;c++){var d=a[b]+c;E[d]=d+"-"+F()}for(var e="KQRBNP".split(""),b=0;b<e.length;b++){var f="w"+e[b],g="b"+e[b];D[f]=f+"-"+F(),D[g]=g+"-"+F()}},P=function(){var a='<div class="'+w.chessboard+'">';return g.sparePieces===!0&&(a+='<div class="'+w.sparePieces+" "+w.sparePiecesTop+'"></div>'),a+='<div class="'+w.board+'"></div>',g.sparePieces===!0&&(a+='<div class="'+w.sparePieces+" "+w.sparePiecesBottom+'"></div>'),a+="</div>"},Q=function(b){"black"!==b&&(b="white");var c="",d=G(a),e=8;"black"===b&&(d.reverse(),e=1);for(var f="white",h=0;8>h;h++){c+='<div class="'+w.row+'">';for(var i=0;8>i;i++){var j=d[i]+e;c+='<div class="'+w.square+" "+w[f]+'" '+'style="width: '+o+"px; height: "+o+'px" '+'id="'+E[j]+'" '+'data-square="'+j+'">',g.showNotation===!0&&(("white"===b&&1===e||"black"===b&&8===e)&&(c+='<div class="'+w.notation+" "+w.alpha+'">'+d[i]+"</div>"),0===i&&(c+='<div class="'+w.notation+" "+w.numeric+'">'+e+"</div>")),c+="</div>",f="white"===f?"black":"white"}c+='<div class="'+w.clearfix+'"></div></div>',f="white"===f?"black":"white","white"===b?e--:e++}return c},R=function(a){return"function"==typeof g.pieceTheme?g.pieceTheme(a):"string"==typeof g.pieceTheme?g.pieceTheme.replace(/{piece}/g,a):(J(8272,"Unable to build image source for cfg.pieceTheme."),void 0)},S=function(a,b,c){var d='<img src="'+R(a)+'" ';return c&&"string"==typeof c&&(d+='id="'+c+'" '),d+='alt="" class="'+w.piece+'" '+'data-piece="'+a+'" '+'style="width: '+o+"px;"+"height: "+o+"px;",b===!0&&(d+="display:none;"),d+='" />'},T=function(a){var b=["wK","wQ","wR","wB","wN","wP"];"black"===a&&(b=["bK","bQ","bR","bB","bN","bP"]);for(var c="",d=0;d<b.length;d++)c+=S(b[d],!1,D[b[d]]);return c},U=function(a,b,c,d){var e=$("#"+E[a]),f=e.offset(),h=$("#"+E[b]),i=h.offset(),j=F();$("body").append(S(c,!0,j));var k=$("#"+j);k.css({display:"",position:"absolute",top:f.top,left:f.left}),e.find("img."+w.piece).remove();var l=function(){h.append(S(c)),k.remove(),"function"==typeof d&&d()},m={duration:g.moveSpeed,complete:l};k.animate(i,m)},V=function(a,b,c){var d=$("#"+D[a]).offset(),e=$("#"+E[b]),f=e.offset(),h=F();$("body").append(S(a,!0,h));var i=$("#"+h);i.css({display:"",position:"absolute",left:d.left,top:d.top});var j=function(){e.find("img."+w.piece).remove(),e.append(S(a)),i.remove(),"function"==typeof c&&c()},k={duration:g.moveSpeed,complete:j};i.animate(f,k)},W=function(a){y=!0;for(var b=0,c=function(){b++,b===a.length&&(bb(),y=!1)},d=0;d<a.length;d++)"clear"===a[d].type&&$("#"+E[a[d].square]+" img."+w.piece).fadeOut(g.trashSpeed,c),"add"===a[d].type&&g.sparePieces!==!0&&$("#"+E[a[d].square]).append(S(a[d].piece,!0)).find("img."+w.piece).fadeIn("fast",c),"add"===a[d].type&&g.sparePieces===!0&&V(a[d].piece,a[d].square,c),"move"===a[d].type&&U(a[d].source,a[d].destination,a[d].piece,c)},X=function(b,c){b=b.split("");var d=a.indexOf(b[0])+1,e=parseInt(b[1],10);c=c.split("");var f=a.indexOf(c[0])+1,g=parseInt(c[1],10),h=Math.abs(d-f),i=Math.abs(e-g);return h>=i?h:i},Y=function(b){for(var c=[],d=0;8>d;d++)for(var e=0;8>e;e++){var f=a[d]+(e+1);b!==f&&c.push({square:f,distance:X(b,f)})}c.sort(function(a,b){return a.distance-b.distance});for(var g=[],d=0;d<c.length;d++)g.push(c[d].square);return g},Z=function(a,b,c){for(var d=Y(c),e=0;e<d.length;e++){var f=d[e];if(a.hasOwnProperty(f)===!0&&a[f]===b)return f}return!1},_=function(a,b){a=G(a),b=G(b);var c=[],d={};for(var e in b)b.hasOwnProperty(e)===!0&&a.hasOwnProperty(e)===!0&&a[e]===b[e]&&(delete a[e],delete b[e]);for(var e in b)if(b.hasOwnProperty(e)===!0){var f=Z(a,b[e],e);f!==!1&&(c.push({type:"move",source:f,destination:e,piece:b[e]}),delete a[f],delete b[e],d[e]=!0)}for(var e in b)b.hasOwnProperty(e)===!0&&(c.push({type:"add",square:e,piece:b[e]}),delete b[e]);for(var e in a)a.hasOwnProperty(e)===!0&&d.hasOwnProperty(e)!==!0&&(c.push({type:"clear",square:e,piece:a[e]}),delete a[e]);return c},ab=function(){k.find("img."+w.piece).remove()},bb=function(){ab();for(var a in B)B.hasOwnProperty(a)===!0&&$("#"+E[a]).append(S(B[a]))},cb=function(){k.html(Q(A)),bb(),g.sparePieces===!0&&("white"===A?(m.html(T("black")),n.html(T("white"))):(m.html(T("white")),n.html(T("black"))))},db=function(a,b){W(_(a,b))},eb=function(a,b){a=G(a);for(var c in b)if(b.hasOwnProperty(c)===!0&&a.hasOwnProperty(c)===!0){var d=a[c];delete a[c],a[b[c]]=d}return a},fb=function(a){var b=G(B),c=G(a),d=j(b),e=j(c);d!==e&&(g.hasOwnProperty("onChange")===!0&&"function"==typeof g.onChange&&g.onChange(b,c),B=a)},gb=function(a,b){for(var c in s)if(s.hasOwnProperty(c)===!0){var d=s[c];if(a>=d.left&&a<d.left+o&&b>=d.top&&b<d.top+o)return c}return"offboard"},hb=function(){s={};for(var a in E)E.hasOwnProperty(a)===!0&&(s[a]=$("#"+E[a]).offset())},ib=function(){k.find("div."+w.square).removeClass(w.highlight1+" "+w.highlight2)},jb=function(){if("spare"===r)return kb(),void 0;ib();var a=function(){bb(),l.css("display","none")},b=$("#"+E[r]).offset(),c={duration:g.snapbackSpeed,complete:a};l.animate(b,c),C=!1},kb=function(){ib();var a=G(B);delete a[r],fb(a),bb(),l.fadeOut(g.trashSpeed),C=!1},lb=function(a){ib();var b=G(B);delete b[r],b[a]=p,fb(b);var c=$("#"+E[a]).offset(),d=function(){bb(),l.css("display","none")},e={duration:g.snapSpeed,complete:d};l.animate(c,e),C=!1},mb=function(a,b,c,d){("function"!=typeof g.onDragStart||g.onDragStart(a,b,G(B),A)!==!1)&&(C=!0,p=b,r=a,q="spare"===a?"offboard":a,hb(),l.attr("src",R(b)).css({display:"",position:"absolute",left:c-o/2,top:d-o/2}),"spare"!==a&&$("#"+E[a]).addClass(w.highlight1).find("img."+w.piece).css("display","none"))},nb=function(a,b){l.css({left:a-o/2,top:b-o/2});var d=gb(a,b);d!==q&&(c(q)===!0&&$("#"+E[q]).removeClass(w.highlight2),c(d)===!0&&$("#"+E[d]).addClass(w.highlight2),"function"==typeof g.onDragMove&&g.onDragMove(d,q,r,p,G(B),A),q=d)},ob=function(a){var b="drop";if("offboard"===a&&"snapback"===g.dropOffBoard&&(b="snapback"),"offboard"===a&&"trash"===g.dropOffBoard&&(b="trash"),g.hasOwnProperty("onDrop")===!0&&"function"==typeof g.onDrop){var d=G(B);"spare"===r&&c(a)===!0&&(d[a]=p),c(r)===!0&&"offboard"===a&&delete d[r],c(r)===!0&&c(a)===!0&&(delete d[r],d[a]=p);var e=G(B),f=g.onDrop(r,a,p,d,e,A);("snapback"===f||"trash"===f)&&(b=f)}"snapback"===b?jb():"trash"===b?kb():"drop"===b&&lb(a)};x.clear=function(a){x.position({},a)},x.destroy=function(){h.html(""),l.remove(),h.unbind()},x.fen=function(){return x.position("fen")},x.flip=function(){x.orientation("flip")},x.move=function(){if(0!==arguments.length){for(var a={},c=0;c<arguments.length;c++)if(b(arguments[c])===!0){var d=arguments[c].split("-");a[d[0]]=d[1]}else J(2826,"Invalid move passed to the move method.",arguments[c]);var e=eb(B,a);return x.position(e),e}},x.orientation=function(a){return 0===arguments.length?A:"white"===a||"black"===a?(A=a,cb(),void 0):"flip"===a?(A="white"===A?"black":"white",cb(),void 0):(J(5482,"Invalid value passed to the orientation method.",a),void 0)},x.position=function(a,b){return 0===arguments.length?G(B):"string"==typeof a&&"fen"===a.toLowerCase()?j(B):(b!==!1&&(b=!0),"string"==typeof a&&"start"===a.toLowerCase()&&(a=G(v)),e(a)===!0&&(a=i(a)),f(a)!==!0?(J(6482,"Invalid value passed to the position method.",a),void 0):(b===!0?(db(B,a),fb(a)):(fb(a),bb()),void 0))},x.resize=function(){o=N(),k.css("width",8*o+"px"),l.css({height:o,width:o}),g.sparePieces===!0&&h.find("div."+w.sparePieces).css("paddingLeft",o+z+"px"),cb()},x.start=function(a){x.position("start",a)};var pb=function(){return"ontouchstart"in document.documentElement},qb=function(){return navigator&&navigator.userAgent&&-1!==navigator.userAgent.search(/MSIE/)},rb=function(a){a.preventDefault()},sb=function(a){if(g.draggable===!0){var b=$(this).attr("data-square");c(b)===!0&&B.hasOwnProperty(b)===!0&&mb(b,B[b],a.pageX,a.pageY)}},tb=function(a){if(g.draggable===!0){var b=$(this).attr("data-square");c(b)===!0&&B.hasOwnProperty(b)===!0&&(a=a.originalEvent,mb(b,B[b],a.changedTouches[0].pageX,a.changedTouches[0].pageY))}},ub=function(a){if(g.sparePieces===!0){var b=$(this).attr("data-piece");mb("spare",b,a.pageX,a.pageY)}},vb=function(a){if(g.sparePieces===!0){var b=$(this).attr("data-piece");a=a.originalEvent,mb("spare",b,a.changedTouches[0].pageX,a.changedTouches[0].pageY)}},wb=function(a){C===!0&&nb(a.pageX,a.pageY)},xb=function(a){C===!0&&(a.preventDefault(),nb(a.originalEvent.changedTouches[0].pageX,a.originalEvent.changedTouches[0].pageY))},yb=function(a){if(C===!0){var b=gb(a.pageX,a.pageY);ob(b)}},zb=function(a){if(C===!0){var b=gb(a.originalEvent.changedTouches[0].pageX,a.originalEvent.changedTouches[0].pageY);ob(b)}},Ab=function(){$("body").on("mousedown mousemove","img."+w.piece,rb),k.on("mousedown","div."+w.square,sb),h.on("mousedown","div."+w.sparePieces+" img."+w.piece,ub),qb()===!0?(document.ondragstart=function(){return!1},$("body").on("mousemove",wb),$("body").on("mouseup",yb)):($(window).on("mousemove",wb),$(window).on("mouseup",yb)),pb()===!0&&(k.on("touchstart","div."+w.square,tb),h.on("touchstart","div."+w.sparePieces+" img."+w.piece,vb),$(window).on("touchmove",xb),$(window).on("touchend",zb))},Bb=function(){h.html(P()),k=h.find("div."+w.board),g.sparePieces===!0&&(m=h.find("div."+w.sparePiecesTop),n=h.find("div."+w.sparePiecesBottom));var a=F();$("body").append(S("wP",!0,a)),l=$("#"+a),z=parseInt(k.css("borderLeftWidth"),10),x.resize()},Cb=function(){K()===!0&&M()===!0&&(O(),Bb(),Ab())};return Cb(),x},window.ChessBoard.fenToObj=i,window.ChessBoard.objToFen=j}(),_.mixin({pad:function(a,b){return _.map(_.range(a),function(){return b})}});var PIECE={king:"k",queen:"q",rook:"r",knight:"n",bishop:"b",pawn:"p"},SIDE={black:"b",white:"w"},GAME_STATUS={newGame:"new"};!function(){"use strict";this.createBoardModel=function(a){a=a||{};var b=jsMessage.mixinPubSub(),c=b.autoPublish("board",function(a){return _.map(a,function(a){return _.map(a,function(a){return a&&{side:a.side(),type:a.type()}})})}),d=b.autoPublish("side"),e=function(){var a=function(a){return _.map(["rook","knight","bishop","king","queen","bishop","knight","rook"],function(b){return createPieceModel[b]({side:a})})},b=function(){return _.pad(8,null)},c=function(a){return _.map(_.range(8),function(){return createPieceModel.pawn({side:a})})};return function(){return[a(SIDE.black),c(SIDE.black),b(),b(),b(),b(),c(SIDE.white),a(SIDE.white)]}}(),f=function(a){return c()[a.x][a.y]},g=function(a,b){var d=c(),e=f(a);d[b.x][b.y]=e,d[a.x][a.y]=null,e.type===PIECE.king&&(isKingMoved[e.side]=!0),c(d)},h=function(){return d()===SIDE.black?SIDE.white:SIDE.black},i=function(){d(h())};return b.newGame=function(){c(e()),d(SIDE.white)},b.makeMove=function(a,b){return isBelongToPlayer(a)&&isLegalMove(a,b)?(g(a,b),i(),!0):!1},b}}.call(this),$(document).ready(function(){"use strict";new ChessBoard("board","start")});